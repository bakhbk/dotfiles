# ====================== OLLAMA FZF FUNCTIONS ======================

# –ó–∞–ø—É—Å–∫ –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ fzf
ollama-fzf() {
  local MODEL
  MODEL=$(ollama list | awk 'NR>1 {print $1}' | fzf \
    --height=40% \
    --layout=reverse \
    --border=rounded \
    --prompt="üöÄ –í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å > " \
    --header="üìö –ù–∞–∂–º–∏—Ç–µ Ctrl+C –¥–ª—è –æ—Ç–º–µ–Ω—ã" \
    --preview="echo '–ó–∞–ø—É—Å–∫: {}'" \
    --preview-window=right:30%:wrap)

  if [[ -n "$MODEL" ]]; then
    echo "–ó–∞–ø—É—Å–∫–∞–µ–º: $MODEL"
    ollama run "$MODEL"
  fi
}
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ fzf —Å –ø–æ–∏—Å–∫–æ–º
ollama-pull-fzf() {
  local selection
  selection=$(
    cat <<'EOF' | fzf \
      --height=50% \
      --layout=reverse \
      --border=rounded \
      --prompt="üì• –í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å > " \
      --header=$'üîç / –ø–æ–∏—Å–∫ | Tab: –Ω–µ—Å–∫–æ–ª—å–∫–æ | Enter: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å' \
      --multi \
      --preview='echo {} | awk -F"|" '\''
      {
        split($0, parts, "|")
        model = parts[1]
        desc = parts[2]
        print ""
        print "\033[1;35m–ú–æ–¥–µ–ª—å:\033[0m " model
        print "\033[1;35m–û–ø–∏—Å–∞–Ω–∏–µ:\033[0m " desc
        print ""
        
        # –õ–µ–≥–µ–Ω–¥–∞ –≤ preview
        print "\033[1;36m‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\033[0m"
        print "\033[1;33m–õ–ï–ì–ï–ù–î–ê:\033[0m"
        print "üöÄ \033[0;37m–°–∫–æ—Ä–æ—Å—Ç—å: \033[1;32müê¢ üêá ‚ö° üöÄ\033[0m"
        print "ü§ñ \033[0;37m–ê–≥–µ–Ω—Ç: \033[1;32m‚öôÔ∏è ü§ñ ü¶æ\033[0m"  
        print "üõ†Ô∏è \033[0;37mTools: \033[1;32m‚ùå üõ†Ô∏è üîß+\033[0m"
        print "üëÅÔ∏è \033[0;37mVision: \033[1;32m‚ùå üëÅÔ∏è\033[0m"
        print "üé® \033[0;37mGenerate: \033[1;32m‚ùå üé® üñºÔ∏è+\033[0m"
        print "üÜì \033[0;37m–¶–µ–Ω–∞: \033[1;32müÜì üí∞ üí∏\033[0m"
        print "\033[1;36m‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\033[0m"
      }
    '\''' \
      --preview-window="right:55%:wrap" \
      --with-nth=1,2 \
      --delimiter="\|"
# üöÄ –¢–û–ü –î–õ–Ø –†–ê–ë–û–¢–´ (—Å—Ç–∞—Ä—Ç–æ–≤—ã–π –Ω–∞–±–æ—Ä)
deepseek-coder:6.7b|ü§ñ [‚ö°¬∑ü§ñ¬∑16/4K¬∑üõ†Ô∏è¬∑‚ùå¬∑‚ùå¬∑üÜì] –õ—É—á—à–∞—è –¥–ª—è –∫–æ–¥–∞: –∞–ª–≥–æ—Ä–∏—Ç–º—ã, –æ–±—É—á–µ–Ω–∏–µ, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π (4.1GB)
llama3.1:8b|üìö [üêá¬∑‚öôÔ∏è¬∑128/4K¬∑üõ†Ô∏è¬∑‚ùå¬∑‚ùå¬∑üÜì] –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è: –æ–±—É—á–µ–Ω–∏–µ, –∞–Ω–∞–ª–∏–∑, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (4.7GB)
phi3:mini|üéØ [üöÄ¬∑‚öôÔ∏è¬∑128/4K¬∑‚ùå¬∑‚ùå¬∑‚ùå¬∑üÜì] –ö–æ–º–ø–∞–∫—Ç–Ω–∞—è –∏ —É–º–Ω–∞—è: 128K –∫–æ–Ω—Ç–µ–∫—Å—Ç, –±—ã—Å—Ç—Ä–∞—è (2.3GB)
qwen2.5-coder:7b|ü•á [‚ö°¬∑ü§ñ¬∑32/4K¬∑üõ†Ô∏è¬∑‚ùå¬∑‚ùå¬∑üÜì] –ë–∞–ª–∞–Ω—Å: —Å–∫–æ—Ä–æ—Å—Ç—å/–∫–∞—á–µ—Å—Ç–≤–æ, —Ä—É—Å—Å–∫–∏–π, Dart (4.1GB)

# ü§ñ –ê–ì–ï–ù–¢–ù–´–ï –ò –ö–û–î–û–í–´–ï (—Ä–∞–±–æ—á–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã)
codestral:latest|üöÄ [üê¢¬∑ü¶æ¬∑32/4K¬∑üîß+¬∑‚ùå¬∑‚ùå¬∑üÜì] –ú–æ—â–Ω—ã–π –∞–≥–µ–Ω—Ç: –∞–≤—Ç–æ-–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (8.7GB)
codeqwen:7b|üë®‚Äçüíª [‚ö°¬∑‚öôÔ∏è¬∑32/4K¬∑‚ùå¬∑‚ùå¬∑‚ùå¬∑üÜì] –ß–∏—Å—Ç–æ –∫–æ–¥–æ–≤–∞—è: –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç, —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (4.1GB)
wizardcoder:7b|üßô‚Äç‚ôÇÔ∏è [üêá¬∑ü§ñ¬∑16/4K¬∑üõ†Ô∏è¬∑‚ùå¬∑‚ùå¬∑üÜì] –ê–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏: –∞–Ω–∞–ª–∏–∑ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ (4.1GB)
codellama:7b|üêç [üêá¬∑‚öôÔ∏è¬∑16/4K¬∑‚ùå¬∑‚ùå¬∑‚ùå¬∑üÜì] Python-—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: –æ–±—É—á–µ–Ω–∏–µ, –æ–±—ä—è—Å–Ω–µ–Ω–∏—è (3.8GB)
granite-code:3b|üíé [üöÄ¬∑‚öôÔ∏è¬∑4/4K¬∑‚ùå¬∑‚ùå¬∑‚ùå¬∑üÜì] –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞: IBM, –º–∞–ª–æ –ø–∞–º—è—Ç–∏ (1.8GB)

# ‚ö° –ë–´–°–¢–†–´–ï –ò –õ–ï–ì–ö–ò–ï (—É—Ç–∏–ª–∏—Ç—ã)
tinyllama:latest|‚ö° [üöÄ¬∑‚öôÔ∏è¬∑2/1K¬∑‚ùå¬∑‚ùå¬∑‚ùå¬∑üÜì] –ú–æ–ª–Ω–∏–µ–Ω–æ—Å–Ω–∞—è: –ø—Ä–æ—Å—Ç—ã–µ –∑–∞–¥–∞—á–∏, –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã (0.6GB)
llama3.2:1b|üéØ [üöÄ¬∑‚öôÔ∏è¬∑4/4K¬∑‚ùå¬∑‚ùå¬∑‚ùå¬∑üÜì] –°—É–ø–µ—Ä-–±—ã—Å—Ç—Ä–∞—è: –º–∏–Ω–∏ –≤–µ—Ä—Å–∏—è, —Ç–µ—Å—Ç—ã (0.6GB)
phi2:2.7b|üîç [üöÄ¬∑‚öôÔ∏è¬∑2/1K¬∑‚ùå¬∑‚ùå¬∑‚ùå¬∑üÜì] –•–æ—Ä–æ—à–∏–µ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏—è: –ª–æ–≥–∏–∫–∞, –º–∞–ª–æ –ø–∞–º—è—Ç–∏ (1.6GB)
gemma:2b|üíé [üöÄ¬∑‚öôÔ∏è¬∑8/8K¬∑‚ùå¬∑‚ùå¬∑‚ùå¬∑üÜì] –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ –ª–µ–≥–∫–∞—è: –±–∞–∑–æ–≤—ã–π –∫–æ–¥ (1.4GB)

# üèîÔ∏è –ì–ò–ì–ê–ù–¢–°–ö–ò–ô –ö–û–ù–¢–ï–ö–°–¢ (—Å–ø–µ—Ü. –∑–∞–¥–∞—á–∏)
nemotron-mini:4b|üåÄ [üöÄ¬∑‚öôÔ∏è¬∑256/8K¬∑üõ†Ô∏è¬∑‚ùå¬∑‚ùå¬∑üÜì] 256K –∫–æ–Ω—Ç–µ–∫—Å—Ç: –æ–≥—Ä–æ–º–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã, –∫–æ–¥-–±–∞–∑—ã (2GB)
yi-large:latest|üá®üá≥ [üê¢¬∑ü§ñ¬∑200/8K¬∑üõ†Ô∏è¬∑‚ùå¬∑‚ùå¬∑üÜì] 200K –∫–æ–Ω—Ç–µ–∫—Å—Ç: –∫–Ω–∏–≥–∏, –¥–ª–∏–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ (16GB)
command-r-plus:latest|üéñÔ∏è [üê¢¬∑‚öôÔ∏è¬∑128/8K¬∑üõ†Ô∏è¬∑‚ùå¬∑‚ùå¬∑üÜì] 128K –∫–æ–Ω—Ç–µ–∫—Å—Ç: RAG, –ø–æ–∏—Å–∫ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º (13GB)
gemma2:27b|üíé [üêá¬∑ü§ñ¬∑128/8K¬∑üõ†Ô∏è¬∑‚ùå¬∑‚ùå¬∑üÜì] 128K –∫–æ–Ω—Ç–µ–∫—Å—Ç: Google, –º–æ—â–Ω–∞—è (11GB)

# üé® –ì–ï–ù–ï–†–ê–¶–ò–Ø –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ô (Image Generation)
flux:1.1-dev|üåÄ [üê¢¬∑‚öôÔ∏è¬∑?/?¬∑‚ùå¬∑‚ùå¬∑üé®¬∑üÜì] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: Stable Diffusion –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (7.7GB)
flux:schnell|‚ö° [üêá¬∑‚öôÔ∏è¬∑?/?¬∑‚ùå¬∑‚ùå¬∑üé®¬∑üÜì] –ë—ã—Å—Ç—Ä–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è: 2.5 —Å–µ–∫—É–Ω–¥—ã –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫—É (7.7GB)
sd3.5:large|üñºÔ∏è [üê¢¬∑‚öôÔ∏è¬∑?/?¬∑‚ùå¬∑‚ùå¬∑üñºÔ∏è+¬∑üÜì] Stable Diffusion 3.5: –≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ (12GB)
playground-v2.5:2b|üéÆ [üöÄ¬∑‚öôÔ∏è¬∑?/?¬∑‚ùå¬∑‚ùå¬∑üé®¬∑üÜì] –°—É–ø–µ—Ä-–±—ã—Å—Ç—Ä–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è: Playground AI (1.2GB)

# üëÅÔ∏è VISION –ú–û–î–ï–õ–ò (–∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
llava:7b|üñºÔ∏è [üê¢¬∑‚öôÔ∏è¬∑4/4K¬∑‚ùå¬∑üëÅÔ∏è¬∑‚ùå¬∑üÜì] –ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: —Å–∫—Ä–∏–Ω—à–æ—Ç—ã, —Ñ–æ—Ç–æ (4.1GB)
bakllava:7b|üé® [üê¢¬∑‚öôÔ∏è¬∑4/4K¬∑‚ùå¬∑üëÅÔ∏è¬∑‚ùå¬∑üÜì] –£–ª—É—á—à–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑: –¥–∏–∞–≥—Ä–∞–º–º—ã, —Å—Ö–µ–º—ã (4.1GB)
llava:13b|üñºÔ∏è+ [üê¢¬∑‚öôÔ∏è¬∑4/4K¬∑‚ùå¬∑üëÅÔ∏è¬∑‚ùå¬∑üÜì] –ë–æ–ª—å—à–∞—è –≤–µ—Ä—Å–∏—è: —Ç–æ—á–Ω–µ–µ, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ (7.3GB)
moondream:1.8b|üåô [‚ö°¬∑‚öôÔ∏è¬∑?/?¬∑‚ùå¬∑üëÅÔ∏è¬∑‚ùå¬∑üÜì] –õ–µ–≥–∫–∞—è Vision: –±—ã—Å—Ç—Ä—ã–π –∞–Ω–∞–ª–∏–∑ (1.1GB)
qwen2.5-vl:7b|üëÅÔ∏è [üêá¬∑ü§ñ¬∑32/4K¬∑üõ†Ô∏è¬∑üëÅÔ∏è¬∑‚ùå¬∑üÜì] Vision + –ö–æ–¥: –∞–Ω–∞–ª–∏–∑ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –∫–æ–¥–∞ (4.1GB)

# üí¨ –û–ë–©–ï–ù–ò–ï –ò –†–£–°–°–ö–ò–ô
neural-chat:7b|üí¨ [üêá¬∑‚öôÔ∏è¬∑8/2K¬∑‚ùå¬∑‚ùå¬∑‚ùå¬∑üÜì] –õ—É—á—à–∞—è –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ: –æ–±—â–µ–Ω–∏–µ, –∫–æ–¥-—Ä–µ–≤—å—é (4.1GB)
dolphin2.5-mixtral:8x7b|üê¨ [üê¢¬∑ü§ñ¬∑32/4K¬∑üîß+¬∑‚ùå¬∑‚ùå¬∑üÜì] –£–º–Ω–∞—è –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–∞—è: –æ–±—É—á–µ–Ω–∏–µ, –ø–µ—Ä–µ–≤–æ–¥ (26GB)
openhermes:7b|üìö [üêá¬∑‚öôÔ∏è¬∑4/4K¬∑‚ùå¬∑‚ùå¬∑‚ùå¬∑üÜì] –û–±—É—á–µ–Ω–∏–µ: –æ–±—ä—è—Å–Ω–µ–Ω–∏—è, —Ç—É—Ç–æ—Ä–∏–∞–ª—ã (4.1GB)
solar:10.7b|‚òÄÔ∏è [üê¢¬∑‚öôÔ∏è¬∑4/4K¬∑‚ùå¬∑‚ùå¬∑‚ùå¬∑üÜì] –ê–Ω–≥–ª–∏–π—Å–∫–∏–π: –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, –æ–±—É—á–µ–Ω–∏–µ (6.1GB)

# üåê –£–ù–ò–í–ï–†–°–ê–õ–¨–ù–´–ï
mistral:7b|üå™Ô∏è [üêá¬∑‚öôÔ∏è¬∑8/4K¬∑‚ùå¬∑‚ùå¬∑‚ùå¬∑üÜì] –•–æ—Ä–æ—à–∞—è –æ–±—â–∞—è: multi-lingual, –±–∞–ª–∞–Ω—Å (4.1GB)
llama3:8b|üåê [üêá¬∑‚öôÔ∏è¬∑8/8K¬∑‚ùå¬∑‚ùå¬∑‚ùå¬∑üÜì] –û–±—â–∞—è —ç—Ä—É–¥–∏—Ü–∏—è: —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è, –∞–Ω–∞–ª–∏–∑ (4.7GB)
yi:34b|üá®üá≥ [üê¢¬∑‚öôÔ∏è¬∑4/4K¬∑‚ùå¬∑‚ùå¬∑‚ùå¬∑üÜì] –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–∞—è: –±–æ–ª—å—à–∞—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –ø–∞–º—è—Ç—å (20GB)
falcon2:11b|ü¶Ö [üêá¬∑‚öôÔ∏è¬∑2/1K¬∑‚ùå¬∑‚ùå¬∑‚ùå¬∑üÜì] –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –±—ã—Å—Ç—Ä–∞—è (5.9GB)

# üóÑÔ∏è –°–ü–ï–¶–ò–ê–õ–ò–ó–ò–†–û–í–ê–ù–ù–´–ï
sqlcoder:7b|üóÑÔ∏è [üêá¬∑‚öôÔ∏è¬∑4/4K¬∑‚ùå¬∑‚ùå¬∑‚ùå¬∑üÜì] SQL: –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ë–î, –∑–∞–ø—Ä–æ—Å—ã (4.1GB)
meditron:7b|üè• [üê¢¬∑‚öôÔ∏è¬∑4/4K¬∑‚ùå¬∑‚ùå¬∑‚ùå¬∑üÜì] –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–µ–∫—Å—Ç—ã: –º–µ–¥./–Ω–∞—É—á. –∞–Ω–∞–ª–∏–∑ (4.1GB)
nomic-embed-text|üìä [üöÄ¬∑‚öôÔ∏è¬∑8/8K¬∑‚ùå¬∑‚ùå¬∑‚ùå¬∑üÜì] Embedding: —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ (0.3GB)
all-minilm:latest|üîç [üöÄ¬∑‚öôÔ∏è¬∑?/?¬∑‚ùå¬∑‚ùå¬∑‚ùå¬∑üÜì] Embeddings: –ø–æ–∏—Å–∫ –∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è (0.4GB)
EOF
  )

  if [[ -n "$selection" ]]; then
    echo "$selection" | while IFS='|' read -r model description; do
      # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —Å—Ç—Ä–æ–∫–∏ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
      if [[ "$model" == "#"* ]]; then
        continue
      fi
      echo "üì• –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é: $model - $description"
      ollama pull "$model"
    done
  else
    echo "‚ùå –ú–æ–¥–µ–ª—å –Ω–µ –≤—ã–±—Ä–∞–Ω–∞"
  fi
}

# –£–¥–∞–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ fzf
ollama-rm-fzf() {
  local MODEL
  MODEL=$(ollama list | awk 'NR>1 {print $1}' | fzf \
    --height=40% \
    --layout=reverse \
    --border=rounded \
    --prompt="üóëÔ∏è –í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è > " \
    --header="‚ö†Ô∏è  –í–Ω–∏–º–∞–Ω–∏–µ: —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ!" \
    --preview="echo '–ë—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–∞: {}'" \
    --preview-window=right:30%:wrap)

  if [[ -n "$MODEL" ]]; then
    echo -n "‚ùå –£–¥–∞–ª–∏—Ç—å –º–æ–¥–µ–ª—å '$MODEL'? (y/N): "
    read -r answer
    if [[ "$answer" =~ ^[Yy]$ ]]; then
      ollama rm "$MODEL"
      echo "‚úÖ –ú–æ–¥–µ–ª—å —É–¥–∞–ª–µ–Ω–∞"
    fi
  fi
}

# Aider —Å –≤—ã–±–æ—Ä–æ–º –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ fzf
aider-fzf() {
  local MODEL
  MODEL=$(ollama list | awk 'NR>1 {print $1}' | fzf \
    --height=40% \
    --layout=reverse \
    --border=rounded \
    --prompt="ü§ñ –í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å –¥–ª—è aider > " \
    --header="üë®‚Äçüíª –ú–æ–¥–µ–ª—å –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è" \
    --preview="echo '–ë—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞: {} –≤ aider'" \
    --preview-window=right:30%:wrap)

  # –£–±–∏—Ä–∞–µ–º trailing newline
  MODEL=$(printf '%s' "$MODEL")

  if [[ -n "$MODEL" ]]; then
    echo "–ó–∞–ø—É—Å–∫–∞–µ–º aider —Å –º–æ–¥–µ–ª—å—é: $MODEL"
    OPENAI_API_KEY=dummy aider --model "ollama/$MODEL" --yes
  else
    echo "‚ùå –ú–æ–¥–µ–ª—å –Ω–µ –≤—ã–±—Ä–∞–Ω–∞"
  fi
}

# Aider —Å –±—ã—Å—Ç—Ä—ã–º –≤—ã–±–æ—Ä–æ–º –∫–æ–¥–æ–≤–æ–π –º–æ–¥–µ–ª–∏
aider-code() {
  # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –∫–æ–¥–æ–≤—ã–µ –º–æ–¥–µ–ª–∏
  local code_models=$(ollama list | awk 'NR>1 {print $1}' | grep -E "(coder|codellama|codeqwen|deepseek|starcoder|wizard)")

  if [[ -z "$code_models" ]]; then
    echo "‚ö†Ô∏è  –ù–µ—Ç –∫–æ–¥–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –æ–¥–Ω—É:"
    echo "   ollama pull deepseek-coder:6.7b"
    return 1
  fi

  local MODEL=$(echo "$code_models" | fzf \
    --height=30% \
    --layout=reverse \
    --prompt="üë®‚Äçüíª –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–¥–æ–≤—É—é –º–æ–¥–µ–ª—å > ")

  if [[ -n "$MODEL" ]]; then
    echo "üöÄ –ó–∞–ø—É—Å–∫–∞–µ–º aider —Å $MODEL"
    aider --model ollama/"$MODEL" --yes
  fi
}

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π
ollama-list() {
  echo "üìö –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏:"
  echo ""
  ollama list | awk '
    NR==1 {printf "%-30s %-10s %s\n", "–ú–æ–¥–µ–ª—å", "–†–∞–∑–º–µ—Ä", "–î–∞—Ç–∞"; print "----------------------------------------------------------------"}
    NR>1 {printf "%-30s %-10s %s\n", $1, $2, $3" "$4}
    '
}

# –ë—ã—Å—Ç—Ä—ã–π —á–∞—Ç —Å –ø–æ—Å–ª–µ–¥–Ω–µ–π –º–æ–¥–µ–ª—å—é
ollama-last() {
  local last_model=$(ollama list | awk 'NR==2 {print $1}')
  if [[ -n "$last_model" ]]; then
    echo "üí¨ –ó–∞–ø—É—Å–∫ –ø–æ—Å–ª–µ–¥–Ω–µ–π –º–æ–¥–µ–ª–∏: $last_model"
    ollama run "$last_model"
  else
    echo "‚ùå –ù–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π"
  fi
}

# ====================== –ê–õ–ò–ê–°–´ ======================
alias om="ollama-fzf"       # –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –º–æ–¥–µ–ª–∏
alias omp="ollama-pull-fzf" # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–¥–µ–ª–∏
alias omr="ollama-rm-fzf"   # –£–¥–∞–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
alias oml="ollama-list"     # –°–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π
alias omc="aider-code"      # Aider —Å –∫–æ–¥–æ–≤–æ–π –º–æ–¥–µ–ª—å—é
alias af="aider-fzf"        # Aider —Å –≤—ã–±–æ—Ä–æ–º –º–æ–¥–µ–ª–∏
alias oll="ollama-last"     # –ü–æ—Å–ª–µ–¥–Ω—è—è –º–æ–¥–µ–ª—å
